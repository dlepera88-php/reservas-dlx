function fecharPopupExterno(o){o.fadeOut("fast",function(){o.html(""),$(window).off(".__poupModal")})}function abrirPopupExterno(o,r,e,n){$.get(r,e,function(r){o.html(r).show(),$(window).on("keyup.__poupModal",function(r){27===(r.keycode||r.which)&&fecharPopupExterno(o)}),"function"==typeof n&&n.apply()},"html")}function excluirQuarto(o){confirm("Deseja realmente excluir esse quarto?")&&$.post("/painel-dlx/apart-hotel/quartos/excluir",{id:o},function(o,r,e){if("sucesso"===o.retorno)return msgUsuario.adicionar(o.mensagem,o.retorno,e.id),void(window.location="/painel-dlx/apart-hotel/quartos");msgUsuario.mostrar(o.mensagem,o.retorno,e.id)},"json")}function excluirMidiaQuarto(o){confirm("Deseja realmente excluir essa foto/v√≠deo?")&&$.post("/painel-dlx/apart-hotel/quartos/excluir-midia",{arquivo:o},function(o,r,e){if("sucesso"===o.retorno)return msgUsuario.adicionar(o.mensagem,o.retorno,e.id),void window.location.reload();msgUsuario.mostrar(o.mensagem,o.retorno,e.id)},"json")}function popupConfirmarReserva(o,r){abrirPopupExterno($("#popup-confirmar-reserva"),"/painel-dlx/apart-hotel/reservas/"+o+"-reserva",{id:r,"pg-mestra":"conteudo-master"},function(){$("#form-confirmar-reserva, #form-cancelar-reserva").formAjax({func_depois:function(o,r,e){if("sucesso"===o.retorno)return msgUsuario.adicionar(o.mensagem,o.retorno,e.id),void window.location.reload();msgUsuario.mostrar(o.mensagem,o.retorno,e.id)}})})}function popupConfirmarPedido(o,r){abrirPopupExterno($("#popup-confirmar-pedido"),"/painel-dlx/apart-hotel/pedidos/"+o+"-pedido",{id:r,"pg-mestra":"conteudo-master"},function(){$("#form-confirmar-pedido, #form-cancelar-pedido").formAjax({func_depois:function(o,r,e){if("sucesso"===o.retorno)return msgUsuario.adicionar(o.mensagem,o.retorno,e.id),void window.location.reload();msgUsuario.mostrar(o.mensagem,o.retorno,e.id)}})})}function popupUploadMidias(){abrirPopupExterno($("#popup-upload-midias"),"/painel-dlx/apart-hotel/quartos/upload-midias",{"pg-mestra":"conteudo-master"},function(){$("#form-upload").formAjax({func_depois:function(o,r,e){if("sucesso"===o.retorno)return msgUsuario.adicionar(o.mensagem,o.retorno,e.id),void window.location.reload();msgUsuario.mostrar(o.mensagem,o.retorno,e.id)}})})}function mostrarCpfCompleto(o){$.get("/painel-dlx/apart-hotel/reservas/mostrar-cpf-completo",{id:o},function(o,r,e){"erro"!==o.retorno?(msgUsuario.mostrar("Exibindo CPF do cliente...","sucesso",e.id),$("#cpf-cliente").html(o.cpf),$("#btn-cpf-completo").remove()):msgUsuario.mostrar(o.mensagem,o.retorno,e.id)},"json")}function mostrarCpfCompletoPedido(o){$.get("/painel-dlx/apart-hotel/pedidos/mostrar-cpf-completo",{id:o},function(o,r,e){"erro"!==o.retorno?(msgUsuario.mostrar("Exibindo CPF do cliente...","sucesso",e.id),$("#cpf-cliente").html(o.cpf),$("#btn-cpf-completo").remove()):msgUsuario.mostrar(o.mensagem,o.retorno,e.id)},"json")}!function(o){o.fn.uploadPreview=function(){return this.each(function(){var r=o(this);return r.on("change.__uploadPreview",function(){for(var e,n=this.files.length,i=0;i<n;i++)(e=new FileReader).readAsDataURL(this.files[i]),e.onloadend=function(e){var n,i=o(document.createElement("div")).addClass("arquivo-preview"),a=(n=e.target.result,o(document.createElement("figure")).html('<img src="'+n+'" alt="">')),t=r.parents(".upload-arquivos").find(".upload-arquivos-preview");a.appendTo(i),i.appendTo(t)},delete e}),r})}}(jQuery);